---
import Layout from "@/layouts/Layout.astro";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import {
    Card,
    CardContent,
    CardDescription,
    CardHeader,
    CardTitle,
} from "@/components/ui/card";
import {
    Rocket,
    Zap,
    Shield,
    Database,
    Globe,
    Code2,
    ArrowRight,
    Github,
    Server,
    Layers,
    UserCheck,
    CheckCircle2,
    ExternalLink,
} from "lucide-react";

import { FeaturesCarousel } from "@/components/FeaturesCarousel";
import { TechStackBanner } from "@/components/TechStackBanner";
import { CloudflareGlobe } from "@/components/CloudflareGlobe";
import { SupportSection } from "@/components/SupportSection";

const features = [
    {
        title: "Astro + Hono",
        description:
            "The best of both worlds. Static site generation meets ultra-fast edge computing. Zero latency between frontend and backend.",
        icon: Rocket,
    },
    {
        title: "End-to-End Type Safety",
        description:
            "tRPC connects your backend to your frontend with full type inference. No code generation, no runtime errors.",
        icon: Shield,
    },
    {
        title: "Cloudflare D1 + Drizzle",
        description:
            "A fully distributed SQL database at the edge. Drizzle ORM makes querying it feel like writing TypeScript.",
        icon: Database,
    },
    {
        title: "Better Auth",
        description:
            "Comprehensive authentication built-in. Email/password, OAuth, and session management ready to go.",
        icon: UserCheck,
    },
    {
        title: "Global Edge Network",
        description:
            "Deploy to 300+ locations in seconds. Your app runs close to your users, wherever they are.",
        icon: Globe,
    },
    {
        title: "Modern UI Stack",
        description:
            "Tailwind CSS, Radix UI, and Shadcn components. Beautiful, accessible, and easy to customize.",
        icon: Layers,
    },
];
---

<Layout title="The Monolith Cloudflare Stack">
    <div
        class="relative overflow-hidden min-h-screen bg-background selection:bg-[#F68220]/20"
    >
        <!-- Background Gradients - Cloudflare Orange -->
        <div
            class="absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-[#F68220]/10 rounded-[100%] blur-[100px] pointer-events-none"
        >
        </div>
        <div
            class="absolute top-20 right-0 w-[400px] h-[400px] bg-[#FF9A45]/5 rounded-[100%] blur-[80px] pointer-events-none"
        >
        </div>
        <!-- Right edge fade overlay (hero section only) -->
        <div
            class="absolute top-0 right-0 w-32 h-[700px] bg-gradient-to-l from-background to-transparent pointer-events-none z-20"
        >
        </div>

        <div class="container mx-auto px-4 py-16 md:py-24 relative z-10">
            <!-- Hero Section -->
            <div class="grid lg:grid-cols-2 gap-8 lg:gap-4 items-center mb-16 max-w-7xl mx-auto">
                <!-- Left Column - Text Content -->
                <div class="text-center lg:text-left order-2 lg:order-1">
                    <h1
                        class="text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-b from-white via-white/90 to-white/50"
                    >
                        The Monolith <br />
                        <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-[#F68220] to-[#FF9A45]"
                            >Cloudflare Stack</span
                        >
                    </h1>

                    <p
                        class="text-xl md:text-2xl text-muted-foreground mb-4 leading-relaxed"
                    >
                        <span class="text-[#F68220]/80 font-medium">One</span> codebase. <span class="text-[#F68220]/80 font-medium">Zero</span> latency. <span class="text-[#F68220]/80 font-medium">Infinite</span> scale.
                    </p>

                    <!-- Tech stack summary -->
                    <p
                        class="text-sm md:text-base text-muted-foreground mb-8 leading-relaxed max-w-xl mx-auto lg:mx-0"
                    >
                        Build full-stack applications on the edge with
                        <span class="text-[#F68220]/80 font-medium">Astro</span>,
                        <span class="text-[#F68220]/80 font-medium">React 19</span>,
                        <span class="text-[#F68220]/80 font-medium">Hono</span>,
                        <span class="text-[#F68220]/80 font-medium">tRPC</span>,
                        <span class="text-[#F68220]/80 font-medium">Drizzle ORM</span>,
                        <span class="text-[#F68220]/80 font-medium">Cloudflare D1</span>,
                        <span class="text-[#F68220]/80 font-medium">Better Auth</span>,
                        <span class="text-[#F68220]/80 font-medium">Tailwind CSS v4</span>,
                        <span class="text-[#F68220]/80 font-medium">shadcn/ui</span>,
                        <span class="text-[#F68220]/80 font-medium">Zod</span>,
                        <span class="text-[#F68220]/80 font-medium">TanStack Query</span>,
                        <span class="text-[#F68220]/80 font-medium">Framer Motion</span>, and
                        <span class="text-[#F68220]/80 font-medium">Lucide Icons</span>.
                    </p>

                    <div
                        class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start items-center"
                    >
                        <a
                            href="https://github.com/oshi-pog/monolith-cloudflare-astrojs-stack"
                            target="_blank"
                            rel="noreferrer"
                        >
                            <Button
                                size="lg"
                                className="h-14 px-8 text-lg gap-2 rounded-full shadow-lg shadow-[#F68220]/20 hover:shadow-[#F68220]/40 transition-all cursor-pointer bg-[#F68220] hover:bg-[#E5740F] text-white"
                            >
                                <Github className="w-5 h-5" />
                                Clone Repository
                            </Button>
                        </a>
                        <a href="#features">
                            <Button
                                variant="outline"
                                size="lg"
                                className="h-14 px-8 text-lg gap-2 rounded-full border-[#F68220]/20 bg-[#F68220]/5 hover:bg-[#F68220]/10 backdrop-blur-sm cursor-pointer"
                            >
                                Explore Features
                                <ArrowRight className="w-4 h-4" />
                            </Button>
                        </a>
                    </div>
                </div>

                <!-- Right Column - Cloudflare Globe Animation -->
                <div class="relative order-1 lg:order-2 flex justify-center lg:justify-end">
                    <div class="relative w-[280px] h-[280px] sm:w-[350px] sm:h-[350px] md:w-[400px] md:h-[400px] lg:w-[500px] lg:h-[500px]">
                        <!-- Glow effect behind globe -->
                        <div class="absolute inset-0 bg-[#F68220]/20 rounded-full blur-[60px] scale-75"></div>
                        <CloudflareGlobe
                            client:only="react"
                            className="relative z-10 w-full h-full drop-shadow-[0_0_80px_rgba(246,130,32,0.3)]"
                        />
                    </div>
                </div>
            </div>

            <!-- Tech Stack Banner -->
            <TechStackBanner client:load />

            <!-- Features Carousel -->
            <div id="features" class="mb-32">
                <div class="text-center mb-16">
                    <h2 class="text-3xl font-bold mb-4">Everything You Need</h2>
                    <p class="text-muted-foreground">
                        Built for speed, reliability, and developer experience.
                    </p>
                </div>
                <FeaturesCarousel client:load features={features} />
            </div>

            <!-- Philosophy Section -->
            <div
                class="rounded-[2.5rem] bg-gradient-to-b from-[#F68220]/5 to-background border border-[#F68220]/10 p-8 md:p-16 mb-32 relative overflow-hidden"
            >
                <div
                    class="absolute inset-0 bg-grid-white/[0.02] bg-[size:32px_32px]"
                >
                </div>
                <div
                    class="relative z-10 grid md:grid-cols-2 gap-16 items-center"
                >
                    <div>
                        <Badge
                            variant="outline"
                            className="mb-6 border-[#F68220]/30 text-[#F68220]"
                            >Architecture</Badge
                        >
                        <h2 class="text-4xl md:text-5xl font-bold mb-6">
                            Why "The Monolith"?
                        </h2>
                        <div class="space-y-6 text-lg text-muted-foreground">
                            <p>
                                Modern web development has become fragmented.
                                Microservices, separate frontends, complex build
                                pipelines... it's too much.
                            </p>
                            <p>
                                This stack brings everything back together. Your
                                frontend (Astro) and backend (Hono) live in the
                                same <a
                                    href="https://developers.cloudflare.com/workers/"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    class="text-[#F68220] hover:text-[#FF9A45] inline-flex items-center gap-1 underline underline-offset-2"
                                    >Cloudflare Worker<ExternalLink
                                        className="w-3 h-3"
                                    /></a
                                >. They share memory, types, and context.
                            </p>
                            <ul class="space-y-4 mt-8">
                                <li class="flex items-center gap-3">
                                    <div
                                        class="p-2 rounded-full bg-[#F68220]/10 text-[#F68220]"
                                    >
                                        <Zap className="w-5 h-5" />
                                    </div>
                                    <span
                                        >No HTTP overhead between client and
                                        server</span
                                    >
                                </li>
                                <li class="flex items-center gap-3">
                                    <div
                                        class="p-2 rounded-full bg-[#F68220]/10 text-[#F68220]"
                                    >
                                        <Code2 className="w-5 h-5" />
                                    </div>
                                    <span
                                        >Shared TypeScript types everywhere</span
                                    >
                                </li>
                                <li class="flex items-center gap-3">
                                    <div
                                        class="p-2 rounded-full bg-[#F68220]/10 text-[#F68220]"
                                    >
                                        <Server className="w-5 h-5" />
                                    </div>
                                    <span>Single deployment command</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="relative group">
                        <div
                            class="absolute -inset-1 bg-gradient-to-r from-[#F68220] to-[#FF9A45] rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-1000"
                        >
                        </div>
                        <div
                            class="relative bg-[#0d1117] border border-[#F68220]/20 rounded-2xl p-6 shadow-2xl overflow-hidden"
                        >
                            <div class="flex gap-2 mb-4">
                                <div class="w-3 h-3 rounded-full bg-red-500/20">
                                </div>
                                <div
                                    class="w-3 h-3 rounded-full bg-yellow-500/20"
                                >
                                </div>
                                <div
                                    class="w-3 h-3 rounded-full bg-green-500/20"
                                >
                                </div>
                            </div>
                            <pre
                                class="text-sm font-mono text-gray-300 overflow-x-auto"><code><span class="text-purple-400">export</span> <span class="text-[#F68220]">const</span> <span class="text-yellow-400">appRouter</span> = <span class="text-[#F68220]">router</span>({`{`}
  <span class="text-[#F68220]">greeting</span>: <span class="text-yellow-400">publicProcedure</span>
    .<span class="text-[#F68220]">input</span>(<span class="text-green-400">z</span>.<span class="text-[#F68220]">object</span>({`{`} <span class="text-[#F68220]">name</span>: <span class="text-green-400">z</span>.<span class="text-[#F68220]">string</span>() {`}`}))
    .<span class="text-[#F68220]">query</span>(({`{`} <span class="text-[#F68220]">input</span> {`}`}) => {`{`}
      <span class="text-purple-400">return</span> {`{`} <span class="text-[#F68220]">text</span>: <span class="text-green-400">`Hello ${`{`}input.name{`}`}`</span> {`}`};
    {`}`}),
{`}`});</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="text-center relative">
                <div
                    class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[400px] bg-[#F68220]/10 rounded-[100%] blur-[80px] pointer-events-none"
                >
                </div>
                <h2 class="text-4xl md:text-5xl font-bold mb-8 relative z-10">
                    Ready to Build?
                </h2>
                <p
                    class="text-xl text-muted-foreground mb-10 max-w-xl mx-auto relative z-10"
                >
                    Clone the repository and start building your next big idea
                    in minutes, not days.
                </p>
                <div
                    class="flex flex-col sm:flex-row gap-4 justify-center relative z-10"
                >
                    <a href="/signin">
                        <Button
                            variant="secondary"
                            size="lg"
                            className="h-12 px-8 rounded-full cursor-pointer"
                        >
                            View Demo Auth
                        </Button>
                    </a>
                    <a
                        href="https://github.com/oshi-pog/monolith-cloudflare-astrojs-stack"
                        target="_blank"
                        rel="noreferrer"
                    >
                        <Button
                            size="lg"
                            className="h-12 px-8 rounded-full cursor-pointer bg-[#F68220] hover:bg-[#E5740F] text-white"
                        >
                            Get the Template
                        </Button>
                    </a>
                </div>
            </div>

            <!-- Support Section -->
            <SupportSection client:load />

            <!-- Footer -->
            <footer class="mt-32 pt-8 border-t border-[#F68220]/10">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground">
                    <p>
                        Globe animation by <a
                            href="https://www.cloudflare.com"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-[#F68220] hover:text-[#FF9A45] transition-colors"
                        >Cloudflare, Inc.</a>
                    </p>
                    <p>
                        Released under the <a
                            href="https://opensource.org/licenses/MIT"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-[#F68220] hover:text-[#FF9A45] transition-colors"
                        >MIT License</a>
                    </p>
                </div>
            </footer>
        </div>
    </div>
</Layout>
